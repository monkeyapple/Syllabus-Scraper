{% extends "base.html" %}
{% block content %}

<!-- Nav Bar -->
<div class="container-fluid">
  <div class="nav-section"> 
    <nav class="navbar navbar-expand-lg navbar-dark">

      <a class="navbar-brand" href="">
        <img src="/static/images/logo-icon-w.png" alt="" width="30" height="20" class="d-inline-block align-text-bottom">
        Syllabus Scraper
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02">
          <span class="navbar-toggler-icon"></span>
      </button>

      <!-- <div class="collapse navbar-collapse" id="navbarTogglerDemo02">

        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="#footer"></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#pricing"></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#cta"></a>
          </li>
        </ul>

      </div>-->
    </nav>
  </div>
<!-- Input Section -->
  <div class="black-section">
    <form method="POST">
        <div class="urlInput row">
            {{form.hidden_tag()}}
            {{form.courseLink.label(class="form-control-label")}}{{form.courseLink(class="form-control",placeholder="e.g.,https://www.udemy.com/course/xxxx/")}}
            {% if form.courseLink.errors %}
                {% for error in form.courseLink.errors %}
                <span style="color:#dc3545;font-size:0.8rem;">{{error}}</span>
                {% endfor %}
            {% endif %}
        </div>
        <div class="text-center">
            {{form.submit(class="btn btn-outline-light")}}
            <p>If the course link wasn't submitted before, it will take 10-20 seconds to load the result</p>
        </div>
        
    </form>
  </div>
</div>

<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script type="text/javascript">
function copyText1() {
  /* Get the text field */
  var copyText1 = document.getElementById("markdownArea");

  /* Select the text field */
  copyText1.select();
  copyText1.setSelectionRange(0, 99999); /* For mobile devices */

   /* Copy the text inside the text field */
  navigator.clipboard.writeText(copyText1.value);
}
</script>


<!-- Result -->
<div class="container-fluid white-section">

  <div class="textTitle"><h2>{{display[0]}}</h2></div>
  <div class="align-self-center" id="resultArea">
    <label for="markdownArea"></label>
    <textarea readonly class="form-control form-control-sm" id="markdownArea" rows="25" placeholder="The markdown will be shown here...">{{display[1]}}</textarea>
  </div>
  <div class="optionButtons">
    <button type="button" class="btn btn-warning" onclick="copyText1()">
    Copy All
    </button>
  </div>


 <!-- Collapse -->
  <div class="hrcollapse">
    <hr>
    <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
      Show Markdown Preview
    </button>
    <hr>
  </div>

  <div class="collapse" id="collapseExample">
  {{display[1]|markdown}}
  </div>

</div>


  
<!-- Footer -->
<div class=container-fluid red-section id="footerArea">
    <footer class="text-center text-white" style="background-color: #333333;">
    <!-- Grid container -->
    <div class="container pt-4">
      <!-- Section: Social media -->
      <section class="mb-4 icon-section">
        <!-- Twitter -->
        <a class="btn btn-link btn-floating btn-lg text-white m-1"
          href="https://twitter.com/EffyLH20"
          role="button"
          ><i class="fab fa-twitter"></i
        ></a>
  
        <!-- Google -->
        <a class="btn btn-link btn-floating btn-lg text-white m-1"
          href="mailto:monkeyappleh@gmail.com"
          role="button"
          ><i class="fab fa-google"></i
        ></a>
        <!-- Github -->
        <a class="btn btn-link btn-floating btn-lg text-white m-1"
          href="https://github.com/monkeyapple"
          role="button"
          ><i class="fab fa-github"></i
        ></a>
  
        <!-- Instagram -->
        <!-- <a class="btn btn-link btn-floating btn-lg text-white m-1"
          href="#!"
          role="button"
          data-mdb-ripple-color="dark"
          ><i class="fab fa-instagram"></i
        ></a> -->
  
        <!-- Linkedin -->
        <!-- <a class="btn btn-link btn-floating btn-lg text-white m-1"
          href="#!"
          role="button"
          data-mdb-ripple-color="dark"
          ><i class="fab fa-linkedin"></i
        ></a> -->
  
        <!-- Facebook -->
        <!-- <a class="btn btn-link btn-floating btn-lg text-white m-1"
          href="#!"
          role="button"
          data-mdb-ripple-color="dark"
          ><i class="fab fa-facebook-f"></i
        ></a> -->
        <p style="color:#ffffff;">Â© 2021 - Syllabus Scraper</p>
      </section>
    </div>
  
    </footer>
  </div>
{% endblock %}
